"0","shared_border1_of_tanz <- tanzania_adm3"
"0","shared_border_of_tanz2 <- shared_border1_of_tanz[shared_border1_of_tanz$TYPE_3!='Water body',]"
"0","shared_border_of_tanz <- gUnaryUnion(shared_border_of_tanz2)"
"0","border_for_tanz <- bind(zambia_adm0,malawi_adm0)"
"0","maw_zam <- malawi_adm0 %>% "
"0","  as(""SpatialLines"") %>% "
"0","  crop(buffer_shape(zambia_adm0,0.001)[[2]])"
"0","# identify lake Tanganyika"
"0","tanganyika_full <- lakes[grep(""Tanganyika"",lakes$name_en),]"
"0","# Zambian side"
"0","tanganyika_zambia <- border_for_tanz %>% "
"0","  as(""SpatialLines"") %>% "
"0","  crop(buffer_shape(tanganyika_full,0.1)[[2]])"
"0","# need to prolong border from Zambia"
"0","zam_line_to_lake <- tanganyika_zambia@lines[[1]]@Lines[[1]]@coords[1:2,] %>% "
"0","  as.data.frame()"
"0","split_line_tanzania_tangayika<-"
"0","  rbind(new_line_thru_math(lm(y~x,data=zam_line_to_lake)$coef,"
"0","                           x_vector = 40,"
"0","                           p4s = proj4string(tanganyika_zambia)"
"0","  )@lines[[1]]@Lines[[1]]@coords,"
"0","  zam_line_to_lake) %>% "
"0","  coords_to_line(p4s = proj4string(tanganyika_zambia)) "
"0","# shore line tangayika tanzani"
"0","                           buffer_shape(tanganyika_full,10)[[2]])"
"0","# coordinates of the intersection between the prolonged border line and the Tanganyika shore"
"0","tanganyika_tanzania_split_point <- "
"0","  gIntersection(tanganyika_tanzania,split_line_tanzania_tangayika)@coords"
"0","# clip tanganyika_tanzania at tanganyika_tanzania_split_point"
"0","line_list<-lapply(1:length(tanganyika_tanzania@lines[[1]]@Lines),function(x) {"
"0","  l1<-tanganyika_tanzania@lines[[1]]@Lines[[x]]@coords %>% "
"0","  as.data.frame() %>%"
"0","  filter(y<=tanganyika_tanzania_split_point[1,2]) "
"0","  if (nrow(l1)==0) return()"
"0","  list(coords_to_line(l1,proj4string(tanganyika_zambia)))"
"0","})"
"0","# Sampling line for the Tanganyika line on the Tanzanian side"
"0","tan_line_to_lake<-from_list_to_poly3(line_list) %>%  "
"0","  crop(tanzania_adm0a) %>% "
"0","  gDifference(buffer_shape(zambia_adm0a,0.01)[[2]])"
"0","# BUFFER LINE -------------------------------------------------------------"
"0","# Zambia"
"0","border_for_zamb1 <- shared_border_of_tanz %>% "
"0","  as(""SpatialLines"") %>% "
"0","  crop(buffer_shape(zambia_adm0,0.001)[[2]])"
"0","border_for_zamb2 <- bind(border_for_zamb1,tanganyika_zambia,maw_zam) "
"0","# Tanzania"
"0","border_for_tanz_line1 <- border_for_tanz %>% "
"0","  as(""SpatialLines"")"
"0","border_for_tanz_line2 <- crop(border_for_tanz_line1,"
"0","                              buffer_shape(tanzania_adm0,0.001)[[2]])"
"0","border_for_tanz3 <- bind(tan_line_to_lake,border_for_tanz_line2)"
"0","# Malawi"
"0","border_for_maw1 <- shared_border_of_tanz %>% "
"0","  as(""SpatialLines"") %>% "
"0","  crop(buffer_shape(malawi_adm0,0.001)[[2]])"
"0","border_for_maw2 <- list(border_for_maw1,maw_zam) %>% "
"0","  do.call(bind,.)"
